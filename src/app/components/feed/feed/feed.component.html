
<div class="main-layout">
  <app-side-bar></app-side-bar>

  <main class="main-content">
    <div class="feed-container">

      <div class="new-post-section">
        <app-new-post (postCreated)="onPostCreated()"></app-new-post>
      </div>

      <div *ngIf="loading" class="loading-container">
        <div class="spinner"></div>
        <p>Carregando posts...</p>
      </div>

      <div *ngIf="!loading" class="posts-list">
        <div *ngIf="posts.length === 0" class="empty-state">
          <span class="material-icons">article</span>
          <p>Nenhum post ainda. Seja o primeiro a postar!</p>
        </div>

        <app-feed-card 
          *ngFor="let post of filteredPosts;  trackBy: trackByPostId" 
          [post]="post"
          [currentUser]="currentUser"
          class="post-item">
        </app-feed-card>

        <div *ngIf="posts.length > 0" class="end-message">
          <p>VocÃª chegou ao fim do feed!</p>
        </div>
      </div>
    </div>
  </main>

  <!-- Rightbar direita -->
<app-rigthbar app-rigthbar (searchChanged)="onSearchChanged($event)"></app-rigthbar>
</div>